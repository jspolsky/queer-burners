{"version":3,"sources":["assets/btn_google_signin_dark_normal_web.png","assets/banner0.jpg","assets/banner1.jpg","assets/banner2.jpg","assets/banner3.jpg","assets/banner4.jpg","assets/banner5.jpg","assets/banner6.jpg","assets/banner7.jpg","assets/banner8.jpg","assets/banner9.jpg","assets sync /^/.//social_.*/.svg$","assets/social_email.svg","assets/social_facebook.svg","assets/social_instagram.svg","assets/social_twitter.svg","assets/social_url.svg","definitions.js","components/CampCard.js","components/DirectoryBody.js","components/Authenticate.js","components/ImageUploader.js","components/DeleteButton.js","components/SubmitBody.js","components/Header.js","components/Footer.js","components/ScrollToTop.js","serviceWorker.js","components/EditPosts.js","components/EditPost.js","components/ViewPost.js","components/Presubmit.js","index.js","../../shared/index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","defaultYear","Date","getFullYear","api","s3images","JoinButton","props","joinOpen","popover","Popover","Title","as","Content","joinMessage","joinUrl","href","OverlayTrigger","rootClose","trigger","placement","overlay","Badge","variant","size","style","cursor","color","DisplaySocialLink","linkType","raw","display","replace","Image","src","require","width","paddingRight","fontSize","Lightbox","Modal","show","dialogClassName","onHide","setShow","Header","closeButton","name","Body","padding","image","fluid","about","length","Footer","justifyContent","CampCard","useState","showLightbox","setShowLightbox","fullSizeImage","centered","Card","bg","border","ismine","thumbnail","Img","role","onClick","fontWeight","Subtitle","className","identifies","location","string","Text","s","key","marginTop","offerShowers","Tooltip","aria-label","offerWater","offerMeals","campFee","virginsWelcome","to","year","encodeURIComponent","isadmin","contact","email","CancelToken","axios","campIdentifications","neighborhood","camp","s430","s730","includes","frontage","intersection","DirectoryBody","onSearchChange","event","setState","search","target","value","state","filter","data","cancelFn","clearFirst","this","get","auth","username","userData","idToken","password","cancelToken","c","response","isCancel","console","error","fetchData","prevProps","isAdmin","filterButtonString","submitCard","text","textDecoration","Container","Row","Col","md","Form","inline","Button","type","disabled","aria-hidden","DropdownButton","ButtonGroup","title","marginRight","Dropdown","Item","InputGroup","FormControl","autoFocus","placeholder","onChange","Append","CardColumns","onecamp","toLowerCase","startsWith","hashEmail","React","Component","LogonLink","useIcon","LogonLinkAddress","googleIcon","alt","useLocation","link","oauthEndpoint","pathname","window","origin","localStorage","getItem","refreshToken","a","tmpUserData","JSON","parse","isLoggedOn","post","result","log","expires","valueOf","Number","expires_in","id_token","setItem","stringify","OnUserDataChange","removeItem","Authenticate","useEffect","interval","setInterval","clearInterval","roundedCircle","imageUrl","NavDropdown","alignRight","fullName","Nav","Link","PostAuthenticate","status","setStatus","setIsLoggedOn","URLSearchParams","redirect_uri","duration","queryParams","Spinner","animation","ImageUploader","onSubmitInProgress","objectUrl","setObjectUrl","userFilename","setUserFilename","uploadProgress","setUploadProgress","needsScroll","setNeedsScroll","imageEl","useRef","setTimeout","current","scrollIntoView","block","behavior","startUpload","files","actualFile","ext","uploader","reader","FileReader","onload","binary","atob","split","array","i","push","charCodeAt","blobData","Blob","Uint8Array","contentType","put","url","headers","onUploadProgress","pe","lengthComputable","Math","floor","loaded","total","URL","createObjectURL","fileName","readAsDataURL","request","File","label","custom","accept","ProgressBar","striped","now","ref","DeleteButton","done","setDone","alertEl","redirectOnSuccess","Alert","Heading","message","longMessage","delete","apiToDelete","streets","crossStreets","SubmitBody","submitHandler","preventDefault","_validated","_error_submit","_submit_in_progress","trim","fieldsToValidate","x","fieldValidator","saveCopyAsYear","_submit_successful","msg","err","fieldError","document","getElementById","setCustomValidity","changeHandler","y","splitname","checked","xx","emptyCamp","_error_name","_error_about","_error_url","_error_facebook","_error_email","_error_twitter","_error_instagram","_error_joinMessage","_error_joinUrl","_ready_to_show_form","_submit_disabled","textAlign","destinationYear","originalName","yearToBounce","noValidate","validated","onSubmit","Instructions","xs","Group","controlId","Label","Control","Feedback","rows","facebook","Prepend","twitter","instagram","inProgress","Check","backgroundColor","dismissible","onClose","NotLoggedIn","HeaderImage","rgImages","banner0","banner1","banner2","banner3","banner4","banner5","banner6","banner7","banner8","banner9","Carousel","controls","fade","index","marginBottom","Navbar","collapseOnSelect","expand","sticky","Brand","Toggle","aria-controls","Collapse","withRouter","history","unlisten","listen","scrollTo","Boolean","hostname","match","EditPosts","setData","sortedPosts","sort","b","path","localeCompare","Table","bordered","hover","description","EditPost","setPath","setDescription","setPost","locked","setLocked","setLoaded","pathError","setPathError","formValidated","setFormValidated","saveInProgress","setSaveInProgress","saveError","setSaveError","saveHandler","tester2","endsWith","test","postToSubmit","imageUploadHandler","blobInfo","success","failure","progress","localFilename","filename","localExtension","exec","blob","readOnly","initialValue","apiKey","init","height","menubar","images_upload_handler","image_caption","plugins","block_formats","toolbar","getContent","ViewPost","showContentWarning","setShowContentWarning","cw","dangerouslySetInnerHTML","__html","Presubmit","yearForNewSubmissions","previousCamps","setPreviousCamps","newCampRequested","setNewCampRequested","copyCampRequested","setCopyCampRequested","fetchPreviousCamps","sortedCamps","Analytics","TopLevelComponent","setUserData","newUserData","exact","render","params","Fragment","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch","crypto","validateURL","isFacebookURL","validateEmail","tester","account","address","some","part","_","protocol","campErrors","errors","f","field","locationToString","hash","createHash","update","digest"],"mappings":"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","file":"static/js/main.e232ad21.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL8AAAAuCAYAAAB50MjgAAAAAXNSR0IArs4c6QAAD0lJREFUeAHtXQt0VNW5/mbmzCOTCUQSQoJBQ0NijAHUAEJraAERWUixLNcS7L2XdhWsVWutfVBN24VrVS3UltZKl66mVaxU6b2ktyK9lEa4baQqLwuFVAIRkTSYGCE0k3memdNvnzOPM5MJTCaJhPT8a53M2Xv/Zz++/e3///eeMwAYYiBgIGAgYCDw74WAKWm4Ih29koqMpIHAJY2Awt5HL3UgevKbZn3r6G327MINZrOl6JIeptF5A4EkBMLh0Olgd/t9u9eV/5ZFYhFA0ulY7M5xP/v+MmfhDZP02TqNi3T75nEZD//Gf5FaN5odCQgIg251FWzgWF7mJYsxmcWfiEhmizTsiC/6NtwWYxQw4/PSQkDwmz2OWXY9+fUh0KU1KqO3BgLpIxDjuZ786T9uaBoIjAAEDPKPgEk0hpAZAgb5M8PNeGoEIGCQfwRMojGEzBAwyJ8ZbsZTIwABg/wjYBKNIWSGgEH+zHAznhoBCMQO/AdjLMGjTfBtrYd84jhCba1QggFY8sbCOvla2D81H7ZpMwejGaMOA4FBQWBQyB9qfx/d6x5B8OD+Xp0K/eMUxOXbvhVS1VSMWr0GlqLLe+kZGQYCHzUCAw57gk1/w9l7P5eS+MmDkQ8fRPf6x5OzjbSBwEVBYECWP9TZgXMPPwDF3Z3QeUvxFZBKy6GEw5BbmhFmCCREKqvAqO88lqA7lImi8RYsrbQgl6PsORdGw34ZhwNai6UVVjww3Yx9r/qxsW2Qe2Ezo/YzVjg7ZNTuCg1y5YnVLZ1jx5wxYTyzJYjDiUVqqqjKhuc+bUXXUT/u2KK+z5VCK0VWrhmrpkkoIHZBfxgH3pLR0JVCb6iysiVs/ooduR8Gcc8zAbQMQTsDIn/3ujUJxDePLYDr/tWwz6pJ6Kq/cRfDnpeR861HYM4ZlVA2VInlS7Kw8ppEx7Z4jg1/2OzFuhYFN063oXICUD4vhI2/6gcp0uhw0cesmFtKaEtNqCL5U5EyjWrSUDHh5lkSyqj5yVySv8uEVUtsqM5WsOl/AmjkQndaTeqbXA57GtVFVKbPsuN7c6T4G2DMX8C8ZQd8WLl9aBezvpcOJqQcE7L0mYN4nzH5lbOvwVpYj6ClGAiZYc7LR+4Pn4FlfO943l4zB+L6qCSn1BYhvoKmAwH87hhw42wbaopMWHC7Db9f68cOWvyJtPx7/zK4xBdjPP12AC8dUJDdTk8zpIMmyf8YwLzRCrZHrHJlGReDTcHHrBr5Y82ny9mxVqyJEL/z3SCefzOEsmutWHyVBROvt2PFGx5s/Ig8gDoz7Lc3NojBvcmY/OH3X4B96hlYCr3oqZ+I7C/cm5L4g9vd9GpzWSN63hAe3i5DBGUNtPabVjtQaDGjOhd4p9SCq680I9hiwrYPxG8bTKj9TwdmTzBDCilo7VDgyjXBfcyPFbuAui/YcZk/hLdpXafxWVDn1JEAvvqKVn9Cz7LZBi1/zhgFRW+FgQobnloowdcVQrfNgrI8E+RAGK9u92HdYfV3FfHHx0rY+B82ONqDWPnroKr/07vtKOiMp59musgj48G6IGZXSJg8SsHUgwoeWm7HBJuoyoQ7v+TExO1e/CpSsyNfwtNftGlte8P4v5d9+DExSZalH5cgLK7cEcAdbF+VlhBsK7OxoMCEWVebsPF1Da9Vt9pxa4UFLrbpc4fwxx1+/PjteJ1V19nwjRoJhS6+SEm8mg8GYvMh6l3EkO2uGRJchLPzlIyzTguKQmJcqcOcqiorvjHXisIsrb6D+/345gDCyozJr5zbo+IijfMiZ1U7rPNuUdP6P4+/fP4foNxYbkENJ2+w5fQ/FfXXClKWhOc+T9LvDKL+ZAifXdsTa2rFBAvyOSmFEZ/6wEon5hZoxe6ACcX0EkIco7TPsdR1uSTMzAPcNEUuTsDEKXZ87e8y1rRoz8X/mlA0mvpZZlAdXrruXDFh7E8hSUCekDBmLFhEL3TYn+gdzimQqJtfYsENCOLNcgmVgjxsezbT29jvMpEmtB2sOz/fzLoV5BFGK0kURVPifdQGiH5Jo/kc2/axbQf7tfh2O/av9aFRFOokL1sbb/PBRI+4rq4H63R6K+7IwjKGdULcXhoKMnjxUidy6z1YwwVQxAX/k4VaD3wsF2OqpOd4YTSwZLOMqul2PMiQTYgoz58gIV8kiH2qMEd48x9y7yKekAOsz2ZC9SwHnvZ5cffrNDAZSGJQ3J8KfO/FtM15V8FkIdpJ0nCYm6TzXH8lIYdE2oJ4co9Wd26RFfd+1olXVzux/iYLciINBvRNc3NVoxJfQf2mHixZ34O6IxqgUQponwq2Rsq3CuZR8sZoBNBS8b8JLjtaiVvGV9Z6sISkaxXtE7NZ9EIJwo4d/FDkWFA1Fph/TRRXMz5ZAUy/Qpuy1mbN40RsMwL0civWe7FfjREUPP+UB7V6rxJpe1GsbTMqkttmq5c5E3oDYW3X3GpD7S029XPFlRwv8VqqEj+KhyeGV808KzE24b6bNeK3cp+waL0Ht28KwM2qXSTxci6w5RHiv39IK7+tPqj9vIq4pApz7r9JI/6JPV4seMIDoS+kbKYVpepd//9kTv7+t9XriUCUFL1KBp6xrcGHeT/z4Q9HQ+gSJzwWE6bMcOCFO6O2Md5GTj6ttEiSQPUntfz/b0lhTVi+OVJ+1h937/Gazn/nbo9ufsNoj5w6RT4SHnydYYaQiiouyvHxxVV6jRWfKBZTpuCtoyn6x5KotbdFb0RFlPTaNmG0U2tPjsxNNUOXmincwF9vVT9njQdyCs1qaIQPZfwigseLDUGV3KCFv5LtCS8k+rmzURtL90kZ70QGO47WP1q+IxK2dJ8Ka8+Lx3oJPWFkUU6Y7MDm+7NQF/EqtBEpPUWvKlJk9GZCCqWUWY4JPD88ohb5PCeQFQ7BYo5aKe2J4iSrGCQO7XTrUcmNuNhoerA+qxhK3cSw5djhINZt0cCv4WnFt7mRc5XYsCJbRirSCSCjhs+ZRJ5o36LlgZQVRLX6+EyEpw8loLEpBN8Mhinss5DWPX6cKLWj5iobFoqMUAi7+ziejXoCoZYgabWt4HC7gpkMq8aME4sshB1bPWgiFp+4JQuLJ5gQ5KIoYCiYijh6WybmWuw9XAKweLSp5mUzromV94GzeDqlcBwS65W4sDrP8Z5GKJWnSPlsUmaqMSSppE6Gc6bBTPI3y6Pw0JlK3HWyEYsmfipBeePdUapo2f+7L4if7oiz5oq8oXE81dfbsLiEm8oSYNuzGh0aD4XgJvmFpxdWMd4LoLuTsTDzXfQODFXRwsLx3OxeNGkL4RT7UKZuXoG3GH/v5nTX5FlU0rm5Odx7gc65PRdQ6KO4tYMehRv6YmK4/A0vXuxScJq6lZoNUZ9qaSaW3MC7+F3ADcxp4FUlvk8RpYzHRdSmWXbgymLiKA4UuMcZoy5ABR1UKIssxkllLN/LcnocsdHuS6KLunm3F19WN9wMAa8jfY/IGX8HkDn5xy3H79/diR+4p5BIFjx1aBOmjr0axa5xKft/zqNgy97oELR/HGiGODUZAql/U8adJYwRi3iuf78FzZ0kMzeK2uSE8HoXMFnfbg/DEQakM7lpe5Au9ZY2BZUlur5xsWQEFKsQm7fzWaYIv/W94X0Y+9mHMi5gMDbc/QH5EfEGgiDvHYszMWo4o/VoaROWrXJg3HY/tibVrE9Gn9HnNe7yY/+1TlRzU7zyHifmvcu2cnjMyROqmBCvPSTwXC7Gh76ehUU6vJo4x6dplf97XwjVNRZUL3SirlxGjtjQEg+5I4iXuKCu/RvL6d2mzHdiY5kMB8tV8utgV9tTMYzXVznHiU2TZJyxW1DJ0yfUmHHbkwH1RC/WvzRvMja9jvy5aMj+nEp80Van7yzu3vldNLbt69X00bMn8MDmd9F2Nh7yzKuyxOLLXg8MMKObpvue+gBayTqJhBZEziWI7nMyNtQlnq5orlpB7S98OEQ3KiyU0Ne7cHDhcr0kyD97tLEk6CVoMEHrnUD8OGdFRKGK3gPpH98ZIXjXqZBm5dtkNKuVKdjXFMdRCx/Upvi4gm0klRAXT3cqxqi32p+021bwzQ1evHFa7Cl4olUiacTnSdGxQ348Jqw023n0WerwOFjgNYV4CeNw7IA/ZpX3Nvqw4UBIxXEij33zudLcJP73nufxLXUbuSd7KbJvKWYb6kkP8wUuCac9EQxFfT/aI6seupALRRBf5rFZ3YuZEV80pVvOyJr7qNvz6sPZIj8t6fB8iGXbH0R3MCGowxWuIpRfNpF7TDNOdrfh7bPvwBR28Oz6Llg91chmKPvzlVkYNzr9tTfvscQ20uoglXK4rygQ5jCooOU8VRTxdYf7ShT8slFGR48J/3VnFpbS8nYe8eGO3+mZk27LF1GPYy7lmFtoYQckPE4sFZErHXZLZLEn1yfwFYcFbpYLUvcSUQc3uMKAJODPRbNmsYTX/szjXO4DK6byW+X5/FaZnu6uJ/znCWVYH124h/N5+jzz2asfkYydteouRDUjGXnzaMUFzjz8ZHYtvv7aWpzxC7OpyXvu0xCXXhSzD96iJzHKfxsemb28X8TX19Pf++6+JiWhIh7NLbRhJk3OtKttcDP2z1VjAgUNf7rEiC/GxTG3JIwvwwTjd7H/OZ9cEF9RB8O2ZLnpZrGBN/OS0MWQM1d8d0E5sT94gb6zvmQ3nFx5mun0TW8fFU7OL8fG+d9HdcE1fWjEs0tyLscTiz+O6/TxdLz4It4x7HmWX/gwvvWR+C4Lwxwe4z3/nAc/HySgL+LghmXTDa/4UHdARidtsPjC0Mdvnd9gaLNyV+oj3KEYxIDCnuQONZ05ji3Hd+D4uffQ6n4f/lAAeY5cVOWVY27xDZjDy8xQKBPJNOzJpC3jmZGLwKCFPckQVY6ZhMoZk5KzjbSBwLBEIDMzPCyHYnTKQKB/CBjk7x9ehvYIQsAg/wiaTGMo/UPAIH//8DK0RxACBvlH0GQaQ+kfAgb5+4eXoT2CEDDIP4Im0xhK/xAwyN8/vAztEYSAnvxKSPZ9IP7zt+Emw7FPww0joz8XRkDwm1qxt/30L7aFO5u2PrZ60621FmtW7A3TC1dpaBgIDH8EQkFvZ8ffX3mUPY29PKR/t0d4AfGPDVzOS/x+Tl/GpCEGApcsAsLai39K5B+8xA/N1AWQTHCxAMRvaZLzmWWIgcAljYBYAOL99Jjlv6RHY3TeQGAgCPwLjsfs3HaOnC0AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/banner0.ba23a1bd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner1.4b2258d7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner2.32eea3f3.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner3.5515a65b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner4.4ca27656.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner5.e20d7e40.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner6.8491a6f2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner7.482894ff.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner8.d188550a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner9.424b8a0c.jpg\";","var map = {\n\t\"./social_email.svg\": 242,\n\t\"./social_facebook.svg\": 243,\n\t\"./social_instagram.svg\": 244,\n\t\"./social_twitter.svg\": 245,\n\t\"./social_url.svg\": 246\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 241;","module.exports = __webpack_public_path__ + \"static/media/social_email.fb4433e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_facebook.51d5c4a3.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_instagram.76090faf.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_twitter.abfbd4d9.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_url.f83690ad.svg\";","export const defaultYear = new Date().getFullYear();\nexport const api =\n  \"https://wwe0vuykb9.execute-api.us-east-2.amazonaws.com/Prod\";\n// \"http://localhost:3001\"; // for local docker testing ~!\nexport const s3images =\n  \"https://s3.us-east-2.amazonaws.com/queerburnersdirectory.com-images\";\nexport const googleClientId =\n  \"1091094241484-ve5hbpa496m6d1k21m8r5ni16kvrkifi.apps.googleusercontent.com\";\nexport const oauthEndpoint = \"https://accounts.google.com/o/oauth2/v2/auth\";\nexport const apiKeyTinyMCE = \"zdh08645sds1nt23ip19o4wcxn97mqppnuqeid6wfu3kpjz9\";\n","import React, { useState } from \"react\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Badge from \"react-bootstrap/Badge\";\nimport Popover from \"react-bootstrap/Popover\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Image from \"react-bootstrap/Image\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport { Link } from \"react-router-dom\";\nimport { s3images } from \"../definitions.js\";\n\nfunction JoinButton(props) {\n  const o = props.o;\n  if (o.joinOpen) {\n    const popover = (\n      <Popover id=\"popover-basic\">\n        <Popover.Title as=\"h3\">Join our camp!</Popover.Title>\n        <Popover.Content>\n          {o.joinMessage}\n          {o.joinUrl && (\n            <div>\n              <hr></hr>\n              <a href={o.joinUrl}>Apply</a>\n            </div>\n          )}\n        </Popover.Content>\n      </Popover>\n    );\n\n    return (\n      <OverlayTrigger\n        rootClose\n        trigger=\"click\"\n        placement=\"top\"\n        overlay={popover}\n      >\n        <Badge\n          variant=\"primary\"\n          as=\"a\"\n          size=\"sm\"\n          style={{ cursor: \"pointer\", color: \"white\" }}\n        >\n          Join Us!\n        </Badge>\n      </OverlayTrigger>\n    );\n  } else return null;\n}\n\nconst DisplaySocialLink = ({ linkType, raw }) => {\n  // valid linkTypes: url, email, facebook, instagram, twitter\n  // raw is the way it is stored in the database in the field of the same name\n\n  if (!raw) return null;\n\n  let href = raw;\n  let display = raw;\n\n  switch (linkType) {\n    case \"url\":\n      display = raw\n        .replace(/^https?:\\/\\//, \"\")\n        .replace(/\\/$/, \"\")\n        .replace(/^www\\./, \"\");\n      break;\n\n    case \"email\":\n      href = `mailto:${raw}`;\n      break;\n\n    case \"facebook\":\n      display = raw\n        .replace(/^https?:\\/\\//, \"\")\n        .replace(/\\/$/, \"\")\n        .replace(/^www\\./, \"\");\n      break;\n\n    case \"instagram\":\n      href = `https://instagram.com/${raw}`;\n      break;\n\n    case \"twitter\":\n      href = `https://twitter.com/${raw}`;\n      display = `@${raw}`;\n      break;\n\n    default:\n  }\n\n  return (\n    <div>\n      <Image\n        src={require(`../assets/social_${linkType}.svg`)}\n        style={{ width: \"1.2rem\", paddingRight: \".35rem\" }}\n      />\n      <a style={{ fontSize: \"0.85rem\" }} href={href}>\n        {display}\n      </a>\n    </div>\n  );\n};\n\nconst Lightbox = (props) => {\n  return (\n    <Modal\n      show={props.show}\n      dialogClassName=\"camp-lightbox \"\n      onHide={() => props.setShow(false)}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>{props.name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body style={{ padding: 0 }}>\n        <Image src={props.image} fluid></Image>\n      </Modal.Body>\n      {props.about && props.about.length > 0 && (\n        <Modal.Footer style={{ justifyContent: \"flex-start\" }}>\n          {props.about}\n        </Modal.Footer>\n      )}\n    </Modal>\n  );\n};\n\nconst CampCard = (props) => {\n  const [showLightbox, setShowLightbox] = useState(false);\n  const o = props.o;\n\n  return (\n    <>\n      <Lightbox\n        show={showLightbox}\n        setShow={setShowLightbox}\n        image={`${s3images}/${o.fullSizeImage}`}\n        name={o.name}\n        about={o.about}\n        centered\n      ></Lightbox>\n      <Card bg=\"light\" border={props.ismine ? \"success\" : \"light\"}>\n        {o.thumbnail && (\n          <Card.Img\n            role=\"button\"\n            variant=\"top\"\n            src={`${s3images}/${o.thumbnail}`}\n            onClick={() => {\n              setShowLightbox(!!o.fullSizeImage); // only show lightbox if fullSizeImage present\n            }}\n          />\n        )}\n        <Card.Header as=\"h5\">\n          <span style={{ fontSize: \"1.2rem\", fontWeight: \"bolder\" }}>\n            {o.name}\n          </span>\n        </Card.Header>\n        <Card.Body>\n          <Card.Subtitle className=\"mb-2 text-muted\">\n            {o.identifies}\n            {o.location && o.location.string && <div>{o.location.string}</div>}\n          </Card.Subtitle>\n          <Card.Text>\n            {o.about} <JoinButton o={o} />\n          </Card.Text>\n\n          {[\"url\", \"facebook\", \"email\", \"instagram\", \"twitter\"].map((s) => {\n            return <DisplaySocialLink key={s} linkType={s} raw={o[s]} />;\n          })}\n          <h4 style={{ marginTop: \"0.7rem\" }}>\n            {o.offerShowers && (\n              <OverlayTrigger\n                key=\"shower\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-shower\">Camp provides showers</Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Camp provides showers\">\n                  {\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.offerWater && (\n              <OverlayTrigger\n                key=\"water\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-water\">Camp provides water</Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Camp provides water\">\n                  {\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.offerMeals && (\n              <OverlayTrigger\n                key=\"meal\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-meal\">\n                    Camp provides some or all meals\n                  </Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Camp provides some or all meals\">\n                  {\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.campFee && (\n              <OverlayTrigger\n                key=\"fee\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-fee\">\n                    There is a fee to camp with us\n                  </Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"There is a fee to camp with us\">\n                  {\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n            {o.virginsWelcome && (\n              <OverlayTrigger\n                key=\"virgins\"\n                placement=\"bottom\"\n                overlay={\n                  <Tooltip id=\"tooltip-virgins\">\n                    Burning Man first-timers welcome\n                  </Tooltip>\n                }\n              >\n                <span role=\"img\" aria-label=\"Burning Man first-timers welcome\">\n                  {\" \"}\n                </span>\n              </OverlayTrigger>\n            )}\n          </h4>\n        </Card.Body>\n        {props.ismine && (\n          <Card.Footer>\n            This is your camp - you can&nbsp;\n            <Link to={`/edit/${o.year}/?camp=${encodeURIComponent(o.name)}`}>\n              edit it!\n            </Link>\n          </Card.Footer>\n        )}\n        {!props.ismine && props.isadmin && (\n          <Card.Footer>\n            <Link to={`/edit/${o.year}/?camp=${encodeURIComponent(o.name)}`}>\n              Edit\n            </Link>\n            {o.contact && o.contact.email && o.contact.name && (\n              <div style={{ fontSize: \"0.8rem\" }}>\n                Submitted by {o.contact.name}{\" \"}\n                <a href={`mailto:${o.contact.email}`}>{o.contact.email}</a>\n              </div>\n            )}\n          </Card.Footer>\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default CampCard;\n","import React from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport CardColumns from \"react-bootstrap/CardColumns\";\nimport Button from \"react-bootstrap/Button\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Form from \"react-bootstrap/Form\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Card from \"react-bootstrap/Card\";\n\nimport CampCard from \"./CampCard.js\";\n\nimport { Link } from \"react-router-dom\";\nimport { defaultYear, api } from \"../definitions.js\";\n\nimport axios from \"axios\";\nconst CancelToken = axios.CancelToken;\n\nconst campIdentifications = [...require(\"shared\").campIdentifications];\n\nconst neighborhood = (camp) => {\n  const s430 = [\"4:00\", \"4:15\", \"4:30\", \"4:45\", \"5:00\", \"5:15\", \"5:30\"];\n  const s730 = [\"6:30\", \"6:45\", \"7:00\", \"7:15\", \"7:30\", \"7:45\", \"8:00\"];\n\n  if (\n    s430.includes(camp.location.frontage) ||\n    s430.includes(camp.location.intersection)\n  )\n    return \"East Village\";\n  if (\n    s730.includes(camp.location.frontage) ||\n    s730.includes(camp.location.intersection)\n  )\n    return \"West Village\";\n\n  return \"Elsewhere\";\n};\n\nexport default class DirectoryBody extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filter: \"all\",\n      search: this.props.search ? this.props.search : \"\",\n      data: null,\n      cancelFn: null,\n    };\n  }\n\n  async fetchData(clearFirst) {\n    if (this.state.cancelFn) {\n      this.state.cancelFn();\n      this.setState({ cancelFn: null });\n    }\n\n    let year;\n    if (this.props.year >= 1996 && this.props.year < 3000) {\n      year = this.props.year;\n    } else if (defaultYear === 2020) {\n      year = 2019; // there was no burning man in 2020 :(\n    } else {\n      year = defaultYear;\n    }\n\n    this.setState({ year: year });\n\n    if (clearFirst) {\n      this.setState({ data: null });\n    }\n    try {\n      const response = await axios.get(`${api}/camps/${year}`, {\n        auth: { username: this.props.userData.idToken, password: \"\" },\n        cancelToken: new CancelToken((c) => {\n          this.setState({ cancelFn: c });\n        }),\n      });\n      this.setState({ cancelFn: null, data: response.data });\n    } catch (e) {\n      if (!axios.isCancel(e)) {\n        console.error(e);\n      }\n    }\n  }\n\n  async componentDidMount() {\n    await this.fetchData(false);\n  }\n\n  async componentDidUpdate(prevProps) {\n    // if user turns out to be admin, reload because the admin gets to see\n    // more stuff\n\n    if (this.props.userData.isAdmin && !prevProps.userData.isAdmin) {\n      await this.fetchData(false);\n    } else if (this.props.year !== prevProps.year) {\n      this.setState({ search: \"\" });\n      await this.fetchData(true);\n    }\n  }\n\n  onSearchChange = (event) => {\n    this.setState({ search: event.target.value });\n  };\n\n  render() {\n    let filterButtonString = this.state.filter;\n    if (this.state.filter === \"all\") {\n      filterButtonString = \"Filter\";\n    }\n\n    const submitCard = (\n      <Card bg=\"success\" text=\"white\">\n        <Card.Header>\n          <strong>Don't see your camp here?</strong>\n        </Card.Header>\n        <Card.Body>\n          <p>\n            Please{\" \"}\n            <Link\n              to=\"/submit\"\n              className=\"text-reset\"\n              style={{ textDecoration: \"underline\" }}\n            >\n              submit it\n            </Link>\n            !\n          </p>\n        </Card.Body>\n      </Card>\n    );\n\n    return (\n      <div>\n        <Container fluid className=\"pl-4 pr-4\">\n          <Row className=\"pb-4\">\n            <Col>\n              <h1>Theme Camp Directory {this.state.year}</h1>\n            </Col>\n            <Col md=\"auto\">\n              <Form inline={1}>\n                {/* this fake submit button is here to block Enter \"submitting\" the search (which does nothing) */}\n                <Button\n                  type=\"submit\"\n                  disabled\n                  style={{ display: \"none\" }}\n                  aria-hidden=\"true\"\n                />\n                <DropdownButton\n                  as={ButtonGroup}\n                  id=\"dropdown-basic-button\"\n                  title={filterButtonString}\n                  size=\"sm\"\n                  style={{ marginRight: \"2rem\" }}\n                >\n                  {campIdentifications.map((s) => (\n                    <Dropdown.Item\n                      key={s}\n                      onClick={() => this.setState({ filter: s })}\n                    >\n                      {s}\n                    </Dropdown.Item>\n                  ))}\n                  <Dropdown.Item\n                    onClick={() => this.setState({ filter: \"East Village\" })}\n                  >\n                    East Village\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    onClick={() => this.setState({ filter: \"West Village\" })}\n                  >\n                    West Village\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    onClick={() =>\n                      this.setState({ filter: \"Seeking new members\" })\n                    }\n                  >\n                    Seeking new members\n                  </Dropdown.Item>\n                </DropdownButton>\n                {this.state.filter !== \"all\" && (\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline-primary\"\n                    style={{ marginRight: \"2rem\" }}\n                    onClick={() => this.setState({ filter: \"all\" })}\n                  >\n                    Clear Filter\n                  </Button>\n                )}\n                <InputGroup size=\"sm\" style={{ width: \"20rem\" }}>\n                  <FormControl\n                    autoFocus\n                    placeholder=\"Search\"\n                    aria-label=\"Search\"\n                    onChange={this.onSearchChange}\n                    value={this.state.search}\n                  />\n                  {this.state.search.length > 0 && (\n                    <InputGroup.Append>\n                      <Button\n                        variant=\"outline-secondary\"\n                        onClick={() => this.setState({ search: \"\" })}\n                      >\n                        Clear\n                      </Button>\n                    </InputGroup.Append>\n                  )}\n                </InputGroup>\n              </Form>\n            </Col>\n          </Row>\n          {!this.state.data ? (\n            <Row>\n              <Col>\n                <div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </Col>\n            </Row>\n          ) : (\n            <>\n              <Row>\n                <Col>\n                  <CardColumns>\n                    {this.state.data\n                      .filter(\n                        (onecamp) =>\n                          (this.state.filter === \"all\" ||\n                            (this.state.filter === \"Seeking new members\" &&\n                              onecamp.joinOpen) ||\n                            (this.state.filter === \"West Village\" &&\n                              neighborhood(onecamp) === this.state.filter) ||\n                            (this.state.filter === \"East Village\" &&\n                              neighborhood(onecamp) === this.state.filter) ||\n                            this.state.filter === onecamp.identifies) &&\n                          (this.state.search.length === 0 ||\n                            (this.state.search.length === 1 &&\n                              onecamp.name\n                                .toLowerCase()\n                                .startsWith(this.state.search.toLowerCase())) ||\n                            (this.state.search.length > 1 &&\n                              onecamp.name\n                                .toLowerCase()\n                                .includes(this.state.search.toLowerCase())))\n                      )\n                      .map((onecamp) => (\n                        <CampCard\n                          o={onecamp}\n                          key={onecamp.year + \" \" + onecamp.name}\n                          ismine={\n                            (this.props.userData.hashEmail &&\n                              this.props.userData.hashEmail ===\n                                onecamp.hashEmail) ||\n                            (this.props.userData.email &&\n                              onecamp.contact &&\n                              onecamp.contact.email &&\n                              this.props.userData.email ===\n                                onecamp.contact.email)\n                          }\n                          isadmin={this.props.userData.isAdmin}\n                        />\n                      ))}\n                    {this.props.search ? (\n                      <Card bg=\"success\" text=\"white\">\n                        <Card.Header>\n                          <strong>Thank you!</strong>\n                        </Card.Header>\n                        <Card.Body>\n                          <p>\n                            <strong>{this.props.search}</strong> will now appear\n                            in the Queerburners Directory for {this.props.year}.\n                          </p>\n                          <p>\n                            You can edit this listing, change the picture, and\n                            add more information at any time. Just come back to\n                            queerburners.org and log on again using your Google\n                            account.\n                          </p>\n                          <p>\n                            This directory is a service of Queerburners, an\n                            online community of LGBTQIA+ burners from around the\n                            world. We also have{\" \"}\n                            <a\n                              href=\"https://www.facebook.com/groups/queer.burners/\"\n                              className=\"text-reset\"\n                              style={{ textDecoration: \"underline\" }}\n                            >\n                              an active Facebook group\n                            </a>{\" \"}\n                            to keep in touch and hope you will join!\n                          </p>\n                          <Button\n                            onClick={() => {\n                              this.setState({ search: \"\" });\n                            }}\n                          >\n                            Ok\n                          </Button>\n                        </Card.Body>\n                      </Card>\n                    ) : (\n                      submitCard\n                    )}\n                  </CardColumns>\n                </Col>\n              </Row>\n            </>\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { useLocation } from \"react-router-dom\";\n\nimport axios from \"axios\";\nimport Container from \"react-bootstrap/Container\";\nimport Image from \"react-bootstrap/Image\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nimport { googleClientId, oauthEndpoint, api } from \"../definitions.js\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport googleIcon from \"../assets/btn_google_signin_dark_normal_web.png\";\n\nimport { hashEmail } from \"shared\";\n\nexport const LogonLink = (props) => {\n  if (props.useIcon) {\n    return (\n      <a href={LogonLinkAddress()}>\n        <img src={googleIcon} alt=\"Sign in with Google\"></img>\n      </a>\n    );\n  }\n\n  return <a href={LogonLinkAddress()}>Login</a>;\n};\n\nconst LogonLinkAddress = () => {\n  let location = useLocation();\n\n  let link =\n    oauthEndpoint +\n    \"?state=\" +\n    encodeURIComponent(location.pathname + location.search) +\n    \"&client_id=\" +\n    googleClientId +\n    \"&redirect_uri=\" +\n    encodeURIComponent(window.location.origin + \"/postauthenticate\") +\n    \"&response_type=code\" +\n    \"&scope=openid%20email%20profile\" +\n    \"&access_type=offline\" +\n    \"&include_granted_scopes=true\";\n\n  if (localStorage.getItem(\"oauthPrompt\")) {\n    link += `&prompt=${localStorage.getItem(\"oauthPrompt\")}`;\n  }\n\n  return link;\n};\n\nconst refreshToken = async (props) => {\n  let tmpUserData = JSON.parse(localStorage.getItem(\"userData\"));\n  if (tmpUserData && tmpUserData.isLoggedOn && tmpUserData.refreshToken) {\n    try {\n      const result = await axios.post(`${api}/refreshexpiredtoken`, {\n        refreshToken: tmpUserData.refreshToken,\n      });\n\n      console.log(\"Token refreshed\");\n\n      tmpUserData.expires = new Date(\n        new Date().valueOf() + 1000 * Number(result.data.expires_in)\n      );\n\n      tmpUserData.idToken = result.data.id_token;\n      localStorage.setItem(\"userData\", JSON.stringify(tmpUserData));\n\n      props.OnUserDataChange({\n        ...props.userData,\n        expires: tmpUserData.expires,\n        idToken: tmpUserData.idToken,\n      });\n    } catch (e) {\n      console.log(\"Token refresh failed\");\n      localStorage.removeItem(\"userData\");\n      props.OnUserDataChange({ isLoggedOn: false });\n    }\n  } else {\n    console.log(\"Unable to refresh token\");\n    localStorage.removeItem(\"userData\");\n    props.OnUserDataChange({ isLoggedOn: false });\n  }\n};\n\nexport const Authenticate = (props) => {\n  // User first arrives, checked if they are supposed to be logged on\n\n  useEffect(() => {\n    if (!props.userData.isLoggedOn) {\n      // user isn't logged on. Do they want to be?\n\n      let tmpUserData = JSON.parse(localStorage.getItem(\"userData\"));\n      if (tmpUserData && tmpUserData.isLoggedOn) {\n        // yes. Is their token still good?\n        if (new Date(tmpUserData.expires).valueOf() > new Date().valueOf()) {\n          // Yes! Log them on\n          props.OnUserDataChange(tmpUserData);\n        } else {\n          refreshToken(props);\n        }\n      }\n    }\n  }, [props.userData, props]);\n\n  // every 10 seconds, we check if the user login token is expiring.\n  // If so, we try to refresh your token.\n  //\n  // If that doesn't work, we force a logout, so the UI doesn't appear to show\n  // you that you are logged on.\n  //\n  useEffect(() => {\n    let interval = setInterval(async () => {\n      if (\n        props.userData.isLoggedOn &&\n        new Date(props.userData.expires).valueOf() - 10000 <\n          new Date().valueOf()\n      ) {\n        // user token expired.\n\n        await refreshToken(props);\n      }\n    }, 10000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  });\n\n  if (props.userData && props.userData.isLoggedOn) {\n    return (\n      <>\n        <Image\n          roundedCircle\n          src={props.userData.imageUrl}\n          className=\"GoogleUserPicture\"\n        ></Image>\n        <NavDropdown alignRight title={props.userData.fullName}>\n          <NavDropdown.Item>\n            Logged on as {props.userData.email}\n            {props.userData.isAdmin && <em> (admin)</em>}\n          </NavDropdown.Item>\n          <LinkContainer to=\"/editPosts\">\n            <NavDropdown.Item>Edit Posts</NavDropdown.Item>\n          </LinkContainer>\n          <LinkContainer to=\"/analytics\">\n            <NavDropdown.Item>\n              Site analytics\n            </NavDropdown.Item>\n          </LinkContainer>\n          <NavDropdown.Item\n            onClick={() => {\n              localStorage.removeItem(\"userData\");\n              localStorage.setItem(\"oauthPrompt\", \"consent\");\n              props.OnUserDataChange({ isLoggedOn: false });\n            }}\n          >\n            Logout\n          </NavDropdown.Item>\n        </NavDropdown>\n      </>\n    );\n  } else {\n    return <Nav.Link href={LogonLinkAddress()}>Login</Nav.Link>;\n  }\n};\n\nexport const PostAuthenticate = (props) => {\n  const [status, setStatus] = useState(\"Logging you on...\");\n  const [isLoggedOn, setIsLoggedOn] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        console.log(\n          `authcode is ${new URLSearchParams(props.location.search).get(\n            \"code\"\n          )}`\n        );\n\n        const result = await axios.post(`${api}/googleidtokenfromauthcode`, {\n          code: new URLSearchParams(props.location.search).get(\"code\"),\n          redirect_uri: `${window.location.origin}/postauthenticate`,\n        });\n\n        setStatus(\"Success\");\n        setIsLoggedOn(true);\n\n        const userData = {\n          isLoggedOn: true,\n          idToken: result.data.idToken,\n          fullName: result.data.name,\n          email: result.data.email,\n          hashEmail: hashEmail(result.data.email),\n          isAdmin: result.data.isadmin,\n          imageUrl: result.data.imageUrl,\n          expires: new Date(\n            new Date().valueOf() + 1000 * Number(result.data.duration)\n          ),\n          refreshToken: result.data.refreshToken,\n        };\n\n        localStorage.setItem(\"userData\", JSON.stringify(userData));\n        localStorage.removeItem(\"oauthPrompt\");\n        props.OnUserDataChange(userData);\n      } catch (err) {\n        console.error(\"Error logging on\");\n        console.error(err.response.data);\n        setStatus(\"An error occurred logging you on.\");\n      }\n    };\n\n    fetchData();\n  }, [props.location.search, props]);\n\n  const queryParams = new URLSearchParams(props.location.search);\n\n  if (isLoggedOn) {\n    return <Redirect to={queryParams.get(\"state\")} />;\n  } else {\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <Spinner animation=\"border\" role=\"status\">\n              <span className=\"sr-only\"></span>\n            </Spinner>\n            <h2>{status}</h2>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport axios from \"axios\";\nimport Image from \"react-bootstrap/Image\";\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport Button from \"react-bootstrap/Button\";\n\nexport const ImageUploader = ({\n  thumbnail,\n  onChange,\n  s3images,\n  api,\n  onSubmitInProgress,\n}) => {\n  const [objectUrl, setObjectUrl] = useState(\"\"); // URL of the image\n  const [userFilename, setUserFilename] = useState(\"\"); // what the user thinks the file is called\n  const [uploadProgress, setUploadProgress] = useState(null);\n  const [needsScroll, setNeedsScroll] = useState(false);\n  const imageEl = useRef(null);\n\n  useEffect(() => {\n    if (thumbnail.length > 0 && objectUrl.length === 0) {\n      setObjectUrl(`${s3images}/${thumbnail}`);\n    }\n  }, [thumbnail, s3images, objectUrl.length]);\n\n  useEffect(() => {\n    if (needsScroll) {\n      setTimeout(() => {\n        imageEl.current.scrollIntoView({\n          block: \"end\",\n          behavior: \"smooth\",\n        });\n      }, 100);\n      setNeedsScroll(false);\n    }\n  }, [needsScroll]);\n\n  const startUpload = async (event) => {\n    if (event.target.files.length === 0) {\n      // no picture.\n      setUserFilename(\"\");\n      return;\n    }\n\n    const actualFile = event.target.files[0];\n\n    let ext = \"\";\n    if ([\"image/jpeg\", \"image/jpg\"].includes(actualFile.type)) {\n      ext = \"jpg\";\n    } else if (actualFile.type === \"image/png\") {\n      ext = \"png\";\n    } else {\n      setObjectUrl(\"\");\n      setUserFilename(\"(file must be PNG or JPG)\");\n      onChange(\"\");\n      return;\n    }\n\n    setUserFilename(actualFile.name);\n\n    try {\n      onSubmitInProgress(true);\n      const uploader = await axios.get(`${api}/camps/pictureuploadurl/${ext}`);\n\n      let image;\n      let reader = new FileReader();\n      reader.onload = async (e) => {\n        image = e.target.result;\n\n        let binary = atob(image.split(\",\")[1]);\n        let array = [];\n        for (var i = 0; i < binary.length; i++) {\n          array.push(binary.charCodeAt(i));\n        }\n        let blobData = new Blob([new Uint8Array(array)], {\n          type: uploader.data.contentType,\n        });\n\n        await axios.put(uploader.data.url, blobData, {\n          headers: {\n            \"Content-Type\": uploader.data.contentType,\n          },\n          onUploadProgress: (pe) => {\n            setUploadProgress(\n              pe.lengthComputable\n                ? Math.floor((pe.loaded * 100) / pe.total)\n                : null\n            );\n          },\n        });\n\n        setObjectUrl(URL.createObjectURL(actualFile));\n        onChange(uploader.data.fileName);\n        setUploadProgress(null);\n        setNeedsScroll(true);\n        onSubmitInProgress(false);\n      };\n\n      reader.readAsDataURL(actualFile);\n    } catch (error) {\n      console.error(error);\n      console.error(error.response.request.response);\n    }\n  };\n\n  return (\n    <>\n      <Form.File\n        name=\"thumbnail\"\n        id=\"thumbnail\"\n        label={userFilename}\n        custom\n        accept=\"image/png|image/jpeg\"\n        onChange={startUpload}\n      />\n      {uploadProgress && (\n        <ProgressBar striped now={uploadProgress}></ProgressBar>\n      )}\n      {objectUrl && (\n        <div ref={imageEl}>\n          <Image src={objectUrl} fluid />\n          <Button\n            variant=\"outline-danger\"\n            onClick={() => {\n              onChange(\"\");\n              setObjectUrl(\"\");\n              setUserFilename(\"\");\n            }}\n          >\n            Delete this picture\n          </Button>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { Redirect } from \"react-router\";\n\nconst DeleteButton = (props) => {\n  const [show, setShow] = useState(false);\n  const [needsScroll, setNeedsScroll] = useState(false);\n  const [done, setDone] = useState(false);\n  const alertEl = useRef(null);\n\n  useEffect(() => {\n    if (needsScroll) {\n      alertEl.current.scrollIntoView({\n        block: \"end\",\n        behavior: \"smooth\",\n      });\n      setNeedsScroll(false);\n    }\n  }, [needsScroll]);\n\n  if (done) {\n    return <Redirect to={props.redirectOnSuccess}></Redirect>;\n  }\n\n  return (\n    <>\n      <Button\n        variant=\"outline-danger\"\n        onClick={() => {\n          if (!show) setNeedsScroll(true);\n          setShow(!show);\n        }}\n      >\n        Delete\n      </Button>\n      <div ref={alertEl}>\n        <Alert show={show} variant=\"danger\" style={{ marginTop: \"1rem\" }}>\n          <Alert.Heading>{props.message}</Alert.Heading>\n          <p>{props.longMessage}</p>\n          <hr />\n          <div className=\"d-flex justify-content-end\">\n            <Button\n              onClick={async () => {\n                setShow(false);\n                await axios.delete(props.apiToDelete, {\n                  auth: {\n                    username: props.userData.idToken,\n                    password: \"\",\n                  },\n                });\n                setDone(true);\n              }}\n              variant=\"danger\"\n            >\n              Yes, permanently delete it\n            </Button>\n            &nbsp;\n            <Button onClick={() => setShow(false)} variant=\"outline-success\">\n              Cancel\n            </Button>\n          </div>\n        </Alert>\n      </div>\n    </>\n  );\n};\n\nexport default DeleteButton;\n","import React from \"react\";\nimport { Redirect } from \"react-router\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { LogonLink } from \"./Authenticate.js\";\nimport { ImageUploader } from \"./ImageUploader.js\";\nimport DeleteButton from \"./DeleteButton.js\";\n\nimport { defaultYear, api, s3images } from \"../definitions.js\";\nimport { fieldError, emptyCamp } from \"shared\";\n\nimport axios from \"axios\";\n\nconst campIdentifications = [...require(\"shared\").campIdentifications];\nconst streets = [...require(\"shared\").streets];\nconst crossStreets = require(\"shared\").crossStreets;\n\nexport default class SubmitBody extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // The state object is just a standard\n      // camp directory object, which can be submitted to the\n      // API and stored in the database.\n      ...emptyCamp,\n      year: defaultYear === 2020 ? 2021 : defaultYear,\n\n      // state keys starting with '_' are Component state\n      // and form metadata which will never be submitted to the API\n      _validated: false,\n      _error_name: null,\n      _error_about: null,\n      _error_url: null,\n      _error_facebook: null,\n      _error_email: null,\n      _error_twitter: null,\n      _error_instagram: null,\n      _error_joinMessage: null,\n      _error_joinUrl: null,\n      _error_submit: null,\n      _submit_in_progress: false,\n      _submit_successful: false,\n      _ready_to_show_form: false,\n      _submit_disabled: false,\n    };\n  }\n\n  submitHandler = async (event) => {\n    event.preventDefault();\n    this.setState({\n      _validated: true,\n      _error_submit: null,\n      _submit_in_progress: true,\n    });\n\n    let camp = {};\n    for (var key in this.state) {\n      if (!key.startsWith(\"_\")) {\n        camp[key] = this.state[key];\n        if (typeof camp[key] === \"string\") {\n          camp[key] = camp[key].trim();\n        }\n      }\n    }\n\n    var fieldsToValidate = [\n      \"name\",\n      \"about\",\n      \"url\",\n      \"facebook\",\n      \"email\",\n      \"twitter\",\n      \"instagram\",\n    ];\n    if (this.state.joinOpen) {\n      fieldsToValidate.push(\"joinMessage\", \"joinUrl\");\n    }\n\n    for (var x of fieldsToValidate) {\n      if (!this.fieldValidator(x, camp[x])) {\n        this.setState({ _submit_in_progress: false });\n        return null;\n      }\n    }\n\n    if (this.props.saveCopyAsYear) {\n      camp[\"year\"] = this.props.saveCopyAsYear;\n    }\n\n    try {\n      await axios.post(`${api}/camps`, camp, {\n        auth: {\n          username: this.props.userData.idToken,\n          password: \"\",\n        },\n      });\n      this.setState({ _submit_successful: true, _submit_in_progress: false });\n    } catch (error) {\n      let msg = \"\";\n      if (error.response) {\n        // server returned error\n        msg = `Error ${error.response.status}: ${error.response.data}`;\n      } else if (error.request) {\n        msg = \"Error: Network error (no response received)\";\n      } else {\n        msg = error.message;\n      }\n      console.error(msg);\n      console.error(error);\n      this.setState({ _error_submit: msg, _submit_in_progress: false });\n    }\n  };\n\n  fieldValidator = (key, value) => {\n    const err = fieldError(key, value);\n\n    this.setState({ [\"_error_\" + key]: err });\n    document.getElementById(key).setCustomValidity(err);\n    return err === \"\";\n  };\n\n  changeHandler = (event) => {\n    // if the name of the form control is a single\n    // word like \"identifies\", this does a normal, simple\n    // setState to update the JSON state.\n\n    // if it is composite, like \"location.frontage\", it\n    // only changes location.frontage while preserving\n    // the other sub-fields of location.\n\n    // this allows up to two levels of hierarchy in the\n    // object.\n\n    const splitname = event.target.name.split(\".\");\n    const x = splitname[0];\n    let y;\n    switch (event.target.type) {\n      case \"checkbox\":\n        y = event.target.checked;\n        break;\n      default:\n        y = event.target.value;\n    }\n\n    if (splitname.length === 1) {\n      this.setState((state, props) => {\n        return {\n          [x]: y,\n        };\n      });\n    } else if (splitname.length === 2) {\n      const xx = splitname[1];\n      this.setState((state, props) => {\n        return {\n          [x]: {\n            ...state[x],\n            [xx]: y,\n          },\n        };\n      });\n    }\n\n    this.fieldValidator(event.target.name, y);\n  };\n\n  NotLoggedIn() {\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <h2>Submit your camp to the Queerburners directory!</h2>\n            <p>\n              Welcome! Were building a comprehensive list of LGBTQIA+ and ally\n              theme camps that will participate in Burning Man in{\" \"}\n              {this.state.year}.\n            </p>\n\n            <p>\n              To add your theme camp to this directory, please start by logging\n              in using a Google Account.\n            </p>\n            <p\n              style={{\n                textAlign: \"center\",\n                fontSize: \"1.3rem\",\n                fontWeight: \"600\",\n              }}\n            >\n              <LogonLink />\n            </p>\n            <p>\n              We will save your email address in case we need to contact you.\n              You'll be able to edit your camp directory listing at any time by\n              logging in again. Your email address will <strong>not</strong> be\n              shown publically.\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n  Instructions() {\n    if (this.props.year && this.props.camp) {\n      const destinationYear = this.props.saveCopyAsYear\n        ? this.props.saveCopyAsYear\n        : this.props.year;\n\n      return (\n        <div>\n          <h2>{this.props.camp}</h2>\n          <p>\n            Edit any changes in the information for your camp in{\" \"}\n            {destinationYear} and hit Submit.\n          </p>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <h2>Submit your camp to the Queerburners directory!</h2>\n          <p>\n            Welcome! We're building a comprehensive list of LGBTQIA+ and ally\n            theme camps that will participate in Burning Man in{\" \"}\n            {this.state.year}.\n          </p>\n          <p>\n            To add your theme camp to this directory, please fill out this form.\n          </p>\n        </div>\n      );\n    }\n  }\n\n  async fetchData() {\n    if (!this.props.camp || this.props.camp.length === 0) {\n      return;\n    }\n\n    try {\n      const response = await axios.get(\n        `${api}/camps/${this.props.year}/${encodeURIComponent(\n          this.props.camp\n        )}`,\n        {\n          auth: {\n            username: this.props.userData.idToken,\n            password: \"\",\n          },\n        }\n      );\n      const data = response.data[0];\n\n      this.setState({\n        ...data,\n        originalName: data.name,\n        _ready_to_show_form: true,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (\n      prevProps.userData.isAdmin !== this.props.userData.isAdmin ||\n      prevProps.year !== this.props.year ||\n      prevProps.camp !== this.props.camp\n    )\n      await this.fetchData();\n  }\n\n  async componentDidMount() {\n    if (!this.props.camp || this.props.camp.length === 0) {\n      this.setState({ _ready_to_show_form: true });\n      return;\n    }\n\n    await this.fetchData();\n  }\n\n  render() {\n    if (this.state._submit_successful) {\n      //\n      // after a submit, we are going to redirect them to the directory,\n      // set up with a filter to show just their camp.\n      //\n\n      const yearToBounce = this.props.saveCopyAsYear\n        ? this.props.saveCopyAsYear\n        : this.state.year;\n\n      return (\n        <Redirect\n          to={`/year/${yearToBounce}?s=${encodeURIComponent(this.state.name)}`}\n        />\n      );\n    } else if (!this.props.userData.isLoggedOn) {\n      return this.NotLoggedIn();\n    } else if (!this.state._ready_to_show_form) {\n      return (\n        <Container>\n          <div className=\"spinner-border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </div>\n        </Container>\n      );\n    } else\n      return (\n        <Form\n          noValidate\n          validated={this.state._validated}\n          onSubmit={this.submitHandler}\n        >\n          <Container fluid=\"lg\" className=\"pl-4 pr-4 pb-4\">\n            <Row>\n              <Col>{this.Instructions()}</Col>\n            </Row>\n            <Row>\n              <Col xs={12} md={8}>\n                <Form.Group controlId=\"name\">\n                  <Form.Label>Camp Name</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    placeholder=\"404 Camp Not Found\"\n                    name=\"name\"\n                    value={this.state.name}\n                    onChange={this.changeHandler}\n                  ></Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_name}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    If your camp is registered with placement, make sure this\n                    name matches exactly.\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"identifies\">\n                  <Form.Label>Primary Identification</Form.Label>\n                  <Form.Control\n                    as=\"select\"\n                    name=\"identifies\"\n                    value={this.state.identifies}\n                    onChange={this.changeHandler}\n                  >\n                    {campIdentifications.map((s) => (\n                      <option key={s}>{s}</option>\n                    ))}\n                  </Form.Control>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"about\">\n                  <Form.Label>About your camp</Form.Label>\n                  <Form.Control\n                    as=\"textarea\"\n                    rows=\"3\"\n                    placeholder=\"Max 255 characters\"\n                    name=\"about\"\n                    onChange={this.changeHandler}\n                    value={this.state.about}\n                  ></Form.Control>\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_about}\n                  </Form.Control.Feedback>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"location.frontage\">\n                  <Form.Label>Frontage</Form.Label>\n                  <Form.Control\n                    name=\"location.frontage\"\n                    as=\"select\"\n                    onChange={this.changeHandler}\n                    value={this.state.location.frontage}\n                  >\n                    {streets.map((s) => (\n                      <option key={s}>{s}</option>\n                    ))}\n                  </Form.Control>\n                  <Form.Text className=\"text-muted\">\n                    The street that your camp faces\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group controlId=\"location.intersection\">\n                  <Form.Label>Intersection</Form.Label>\n                  <Form.Control\n                    name=\"location.intersection\"\n                    as=\"select\"\n                    onChange={this.changeHandler}\n                    value={this.state.location.intersection}\n                  >\n                    {crossStreets(this.state.location.frontage).map((s) => (\n                      <option key={s}>{s}</option>\n                    ))}\n                  </Form.Control>\n                  <Form.Text className=\"text-muted\">\n                    The nearest cross-street\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col xs={12} md={6}>\n                <Form.Group controlId=\"url\">\n                  <Form.Label>Public web site</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    name=\"url\"\n                    value={this.state.url}\n                    placeholder=\"https://www.example.com\"\n                    onChange={this.changeHandler}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_url}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    Your camp's public website, if any. Do not use a Facebook\n                    URL here\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={6}>\n                <Form.Group controlId=\"facebook\">\n                  <Form.Label>Facebook</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    name=\"facebook\"\n                    value={this.state.facebook}\n                    placeholder=\"https://www.facebook.com/campname\"\n                    onChange={this.changeHandler}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_facebook}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    Your camp's public Facebook page or group, if any. Provide\n                    the full URL\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"email\">\n                  <Form.Label>Public Email</Form.Label>\n                  <Form.Control\n                    type=\"input\"\n                    name=\"email\"\n                    value={this.state.email}\n                    placeholder=\"info@example.com\"\n                    onChange={this.changeHandler}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {this.state._error_email}\n                  </Form.Control.Feedback>\n                  <Form.Text className=\"text-muted\">\n                    Public email address for inquiries (this will be visible in\n                    the directory to anyone!)\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"twitter\">\n                  <Form.Label>Twitter</Form.Label>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>@</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      type=\"input\"\n                      name=\"twitter\"\n                      value={this.state.twitter}\n                      placeholder=\"example\"\n                      onChange={this.changeHandler}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {this.state._error_twitter}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                  <Form.Text className=\"text-muted\">\n                    Your Twitter feed, if any\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n              <Col xs={12} md={4}>\n                <Form.Group controlId=\"instagram\">\n                  <Form.Label>Instagram</Form.Label>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>@</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      type=\"input\"\n                      name=\"instagram\"\n                      value={this.state.instagram}\n                      placeholder=\"example\"\n                      onChange={this.changeHandler}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {this.state._error_instagram}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                  <Form.Text className=\"text-muted\">\n                    Your Instagram feed, if any\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"thumbnail\">\n                  <Form.Label>Upload a picture of your camp here</Form.Label>\n                  <ImageUploader\n                    thumbnail={this.state.thumbnail}\n                    onChange={(thumbnail) => {\n                      this.setState({ thumbnail: thumbnail });\n                    }}\n                    s3images={s3images}\n                    api={api}\n                    onSubmitInProgress={(inProgress) => {\n                      this.setState({ _submit_disabled: inProgress });\n                    }}\n                  />\n                  <Form.Text className=\"text-muted\">\n                    This picture will appear in the Queerburners directory.\n                    Submit a picture of your campers, your frontage, or\n                    something else fun, but please keep it SFW!\n                  </Form.Text>\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"offerMeals\">\n                  <Form.Label>Features</Form.Label>\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"offerMeals\"\n                    checked={this.state.offerMeals}\n                    label=\"Camp provides some or all meals\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"offerWater\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"offerWater\"\n                    checked={this.state.offerWater}\n                    label=\"Camp provides water\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"offerShowers\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"offerShowers\"\n                    checked={this.state.offerShowers}\n                    label=\"Camp provides showers\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"campFee\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"campFee\"\n                    checked={this.state.campFee}\n                    label=\"There is a fee to camp with us\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                <Form.Group controlId=\"virginsWelcome\">\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"virginsWelcome\"\n                    checked={this.state.virginsWelcome}\n                    label=\"Burning Man first-timers welcome\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col>\n                <Form.Group controlId=\"joinOpen\">\n                  <Form.Label>Are you open to new members?</Form.Label>\n                  <Form.Check\n                    type=\"switch\"\n                    name=\"joinOpen\"\n                    checked={this.state.joinOpen}\n                    label=\"Yes\"\n                    onChange={this.changeHandler}\n                  />\n                </Form.Group>\n                {this.state.joinOpen && (\n                  <div>\n                    <Form.Group controlId=\"joinMessage\">\n                      <Form.Label>Instructions</Form.Label>\n                      <Form.Control\n                        as=\"textarea\"\n                        rows=\"3\"\n                        name=\"joinMessage\"\n                        value={this.state.joinMessage}\n                        placeholder=\"Max 255 characters\"\n                        onChange={this.changeHandler}\n                      ></Form.Control>\n                      <Form.Control.Feedback type=\"invalid\">\n                        {this.state._error_joinMessage}\n                      </Form.Control.Feedback>\n                      <Form.Text className=\"text-muted\">\n                        Provide brief instructions for people who are interested\n                        in joining your camp. What should they do next?\n                      </Form.Text>\n                    </Form.Group>\n                    <Form.Group controlId=\"joinUrl\">\n                      <Form.Label>URL for application form</Form.Label>\n                      <Form.Control\n                        type=\"input\"\n                        name=\"joinUrl\"\n                        value={this.state.joinUrl}\n                        placeholder=\"https://www.example.com\"\n                        onChange={this.changeHandler}\n                      ></Form.Control>{\" \"}\n                      <Form.Control.Feedback type=\"invalid\">\n                        {this.state._error_joinUrl}\n                      </Form.Control.Feedback>\n                      <Form.Text className=\"text-muted\">\n                        Provide a link to an application form or information\n                        about joining.\n                      </Form.Text>\n                    </Form.Group>\n                  </div>\n                )}\n              </Col>\n            </Row>\n\n            {this.state.contact &&\n              this.state.contact.email &&\n              this.state.contact.name &&\n              this.props.userData.isAdmin && (\n                <Row style={{ border: \"3px solid #f7f7f7\" }}>\n                  <Col xs={12} md={4} style={{ backgroundColor: \"#f7f7f7\" }}>\n                    Administrators Only\n                    <br />\n                    <Form.Text className=\"text-muted\">\n                      You are logged on as an administrator so you can edit who\n                      owns this camp.{\" \"}\n                      <strong>This private info is not shown to users.</strong>\n                    </Form.Text>\n                  </Col>\n                  <Col xs={12} md={4}>\n                    <Form.Group controlId=\"contact.email\">\n                      <Form.Label>Private Email</Form.Label>\n                      <Form.Control\n                        type=\"input\"\n                        placeholder=\"a@example.com\"\n                        name=\"contact.email\"\n                        value={this.state.contact.email}\n                        onChange={this.changeHandler}\n                      ></Form.Control>\n                      <Form.Text className=\"text-muted\">\n                        The private email address of the person who submitted\n                        this camp. This controls who can edit the camp.\n                      </Form.Text>\n                    </Form.Group>\n                  </Col>\n                  <Col xs={12} md={4}>\n                    <Form.Group controlId=\"contact.name\">\n                      <Form.Label>Name</Form.Label>\n                      <Form.Control\n                        type=\"input\"\n                        placeholder=\"Pat Burner\"\n                        name=\"contact.name\"\n                        value={this.state.contact.name}\n                        onChange={this.changeHandler}\n                      ></Form.Control>\n                      <Form.Text className=\"text-muted\">\n                        The name of the person who submitted this camp.\n                      </Form.Text>\n                    </Form.Group>\n                  </Col>\n                </Row>\n              )}\n\n            <Row>\n              <Col>\n                {this.state._error_submit && (\n                  <Alert\n                    variant=\"danger\"\n                    dismissible\n                    onClose={() => this.setState({ _error_submit: null })}\n                  >\n                    <Alert.Heading>Error</Alert.Heading>\n                    <p>\n                      An error occurred and your camp information was not\n                      submitted.\n                    </p>\n                    <p>\n                      <strong>{this.state._error_submit}</strong>\n                    </p>\n                  </Alert>\n                )}\n\n                {this.state._submit_in_progress ? (\n                  <Spinner animation=\"border\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                  </Spinner>\n                ) : (\n                  <span>\n                    <Button\n                      variant=\"primary\"\n                      type=\"submit\"\n                      disabled={this.state._submit_disabled}\n                    >\n                      Submit\n                    </Button>{\" \"}\n                    {this.props.year && this.props.camp && (\n                      <DeleteButton\n                        message=\"Delete this camp?\"\n                        longMessage=\"Are you sure you want to permanently delete this theme camp from the Queerburners directory?\"\n                        apiToDelete={`${api}/camps/${\n                          this.state.year\n                        }/${encodeURIComponent(this.state.name)}`}\n                        redirectOnSuccess={`/year/${this.state.year}`}\n                        userData={this.props.userData}\n                      />\n                    )}\n                  </span>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        </Form>\n      );\n  }\n}\n","import React from \"react\";\nimport banner0 from \"../assets/banner0.jpg\";\nimport banner1 from \"../assets/banner1.jpg\";\nimport banner2 from \"../assets/banner2.jpg\";\nimport banner3 from \"../assets/banner3.jpg\";\nimport banner4 from \"../assets/banner4.jpg\";\nimport banner5 from \"../assets/banner5.jpg\";\nimport banner6 from \"../assets/banner6.jpg\";\nimport banner7 from \"../assets/banner7.jpg\";\nimport banner8 from \"../assets/banner8.jpg\";\nimport banner9 from \"../assets/banner9.jpg\";\nimport { Authenticate } from \"./Authenticate.js\";\n\nimport { Link } from \"react-router-dom\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nexport const HeaderImage = () => {\n  const rgImages = [\n    banner0,\n    banner1,\n    banner2,\n    banner3,\n    banner4,\n    banner5,\n    banner6,\n    banner7,\n    banner8,\n    banner9,\n  ];\n\n  return (\n    <Carousel controls={false} fade={true} interval={8000}>\n      {rgImages.map((i, index) => (\n        <Carousel.Item key={index}>\n          <img\n            className=\"img-fluid w-100\"\n            src={i}\n            alt=\"Queerburners\"\n            style={{ marginBottom: \"2rem\" }}\n          ></img>\n        </Carousel.Item>\n      ))}\n    </Carousel>\n  );\n};\n\nexport const Header = (props) => {\n  return (\n    <>\n      <Navbar\n        collapseOnSelect\n        expand=\"md\"\n        bg=\"dark\"\n        variant=\"dark\"\n        sticky=\"top\"\n      >\n        <Navbar.Brand href=\"https://queerburners.org\">\n          Queerburners\n        </Navbar.Brand>\n\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <LinkContainer to=\"/directory\">\n              <Nav.Link>Camp&nbsp;Directory</Nav.Link>\n            </LinkContainer>\n            <LinkContainer to=\"/go-to-burning-man\">\n              <Nav.Link>Going&nbsp;to&nbsp;Burning&nbsp;Man</Nav.Link>\n            </LinkContainer>\n            <LinkContainer title=\"Events\" to=\"/all-of-us-event\">\n              <Nav.Link>Events</Nav.Link>\n            </LinkContainer>\n            <a className=\"nav-link\" href=\"https://blog.queerburners.com/\">Blog</a>\n            <NavDropdown title=\"History\" id=\"collasible-nav-dropdown\">\n              <LinkContainer to=\"/history\">\n                <NavDropdown.Item>\n                  Queer Burner History at Black Rock City\n                </NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/year/2021\">\n                <NavDropdown.Item>2021 (t.b.a!)</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2020\">\n                <NavDropdown.Item>2020 The Multiverse</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/year/2019\">\n                <NavDropdown.Item>2019 Metamorphoses</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2018\">\n                <NavDropdown.Item>2018 iRobot</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2017\">\n                <NavDropdown.Item>2017 Radical Ritual</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2016\">\n                <NavDropdown.Item>2016 da Vinci's Workshop</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2015\">\n                <NavDropdown.Item>2015 Carnival of Mirrors</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2014\">\n                <NavDropdown.Item>2014 Caravansary</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2013\">\n                <NavDropdown.Item>2013 Cargo Cult</NavDropdown.Item>\n              </LinkContainer>\n              <LinkContainer to=\"/history/2012\">\n                <NavDropdown.Item>2012 Fertility 2.0</NavDropdown.Item>\n              </LinkContainer>\n            </NavDropdown>\n          </Nav>\n          <Nav>\n            <Authenticate\n              userData={props.userData}\n              OnUserDataChange={props.OnUserDataChange}\n            />\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Link to=\"/\">\n        <HeaderImage />\n      </Link>\n    </>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport { Link } from \"react-router-dom\";\n\nexport const Footer = (props) => {\n  return (\n    <Container\n      fluid\n      className=\"p-3 p-md-4 qb-footer\"\n      style={{ marginTop: \"2rem\" }}\n    >\n      <Row>\n        <Col>\n          <p>\n            A project of Queerburners: an online community of LGBTQIA+ burners\n            from around the world. We are grateful to{\" \"}\n            <a href=\"https://duncan.co\">Duncan Rawlinson</a> (CC BY-NC 3.0) and\n            Wink Maltman for the header images, and many burners and friends\n            throughout the years for their contributions to this site.\n          </p>\n          <ul>\n            <li>\n              <Link to=\"/FAQ\">FAQ</Link>\n            </li>\n            <li>\n              <Link to=\"/Privacy\">Privacy Policy</Link>\n            </li>\n            <li>\n              <Link to=\"/501c3\">About</Link>\n            </li>\n\n            <li>\n              <a href=\"mailto:info@queerburners.org\">info@queerburners.org</a>\n            </li>\n          </ul>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Footer;\n","import { useEffect } from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\n\nfunction ScrollToTop({ history }) {\n  useEffect(() => {\n    const unlisten = history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n    return () => {\n      unlisten();\n    };\n  }, [history]);\n  return null;\n}\n\nexport default withRouter(ScrollToTop);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Table from \"react-bootstrap/Table\";\nimport { Link } from \"react-router-dom\";\n\nimport { api } from \"../definitions.js\";\n\nexport const EditPosts = (props) => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios(`${api}/posts`);\n\n      const sortedPosts = result.data.sort((a, b) =>\n        a.path.localeCompare(b.path)\n      );\n\n      setData(sortedPosts);\n    };\n\n    if (props.userData && props.userData.isAdmin) {\n      fetchData();\n    }\n  }, [props.userData]);\n\n  if (!props.userData || !props.userData.isAdmin) {\n    return (\n      <Container className=\"qb-textpage\">\n        <Row>\n          <Col>\n            <h3>\n              You have to be logged on to see this page.\n              <br />\n              <br />\n              <br />\n            </h3>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n  return (\n    <Container className=\"qb-textpage\">\n      <Row>\n        <Col>\n          <h1>Edit Posts</h1>\n\n          {data.length === 0 ? (\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          ) : (\n            <>\n              <Table bordered hover>\n                <thead>\n                  <tr>\n                    <th>Path</th>\n                    <th>Description</th>\n                    <th>&nbsp;</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {data.map((i) => (\n                    <tr key={i.path}>\n                      <td>/{i.path}</td>\n                      <td>{i.description}</td>\n                      <td>\n                        <Link to={i.path}>View</Link>\n                        &nbsp;|&nbsp;\n                        <Link to={`/editPost/${i.path}`}>Edit</Link>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n              <p>\n                <Link to={\"/newPost\"}>+ Add a new post</Link>\n              </p>\n            </>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPosts;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport DeleteButton from \"./DeleteButton.js\";\n\nimport { api, apiKeyTinyMCE } from \"../definitions.js\";\n\nexport const EditPost = (props) => {\n  const [path, setPath] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [post, setPost] = useState(\"\");\n  const [locked, setLocked] = useState(true);\n  const [loaded, setLoaded] = useState(false); /// haha locked and loaded haha\n  const [pathError, setPathError] = useState(null);\n  const [formValidated, setFormValidated] = useState(false);\n  const [saveInProgress, setSaveInProgress] = useState(false);\n  const [saveError, setSaveError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await axios(`${api}/posts/${props.post}`);\n        setPath(result.data.path);\n        setDescription(result.data.description);\n        setPost(result.data.post);\n        setLocked(result.data.locked);\n        setLoaded(true);\n      } catch (e) {\n        setDescription(\"404 not found\");\n      }\n    };\n\n    if (props.post) {\n      fetchData();\n    } else {\n      setLoaded(true);\n      setLocked(false);\n      setPost(\"<h1>Type your title here</h1><p>Type your post here</p>\");\n    }\n  }, [props.post]);\n\n  const changeHandler = (event) => {\n    switch (event.target.name) {\n      case \"path\":\n        setPath(event.target.value.trim());\n        break;\n\n      case \"description\":\n        setDescription(event.target.value);\n        break;\n\n      case \"post\":\n        setPost(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n\n    setFormValidated(false);\n  };\n\n  const postChangeHandler = (event) => {\n    setPost(event.target.getContent());\n    setFormValidated(false);\n  };\n\n  const saveHandler = async (event) => {\n    setFormValidated(true);\n\n    setPathError(\"\");\n    document.getElementById(\"path\").setCustomValidity(\"\");\n\n    const tester2 = /\\/\\//;\n\n    if (path.startsWith(\"/\") || path.endsWith(\"/\") || tester2.test(path)) {\n      setPathError(\n        \"Path should not start or end with /, or contain more than one / in a row\"\n      );\n      document.getElementById(\"path\").setCustomValidity(\"NOT\");\n      return;\n    }\n\n    if (path === \"\") {\n      setPathError(\"Specify the URL path where this post can be seen\");\n      document.getElementById(\"path\").setCustomValidity(\"NOT\");\n      return;\n    }\n\n    const tester = /^[a-zA-Z0-9\\-_/]+$/;\n\n    if (!tester.test(path)) {\n      setPathError(\n        \"This would not be a valid URL. Please stick to letters, numbers, -, _, and /\"\n      );\n      document.getElementById(\"path\").setCustomValidity(\"NOT\");\n      return;\n    }\n\n    const postToSubmit = {\n      path: path,\n      description: description,\n      post: post,\n      locked: locked,\n    };\n\n    setSaveInProgress(true);\n\n    try {\n      await axios.post(`${api}/posts`, postToSubmit, {\n        auth: {\n          username: props.userData.idToken,\n          password: \"\",\n        },\n      });\n      setLocked(true);\n      setSaveInProgress(false);\n    } catch (error) {\n      let msg = \"\";\n      if (error.response) {\n        // server returned error\n        msg = `Error ${error.response.status}: ${error.response.data}`;\n      } else if (error.request) {\n        msg = \"Error: Network error (no response received)\";\n      } else {\n        msg = error.message;\n      }\n      console.error(msg);\n      console.error(error);\n      setSaveInProgress(false);\n      setSaveError(msg);\n    }\n  };\n\n  const imageUploadHandler = async (blobInfo, success, failure, progress) => {\n    const localFilename = blobInfo.filename();\n    const re = /(?:\\.([^.]+))?$/; // https://stackoverflow.com/q/680929\n    const localExtension = re.exec(localFilename)[1];\n\n    console.log(blobInfo);\n    console.log(localFilename);\n    console.log(localExtension);\n\n    if (![\"png\", \"jpg\", \"jpeg\"].includes(localExtension)) {\n      console.log(\"Only JPG or PNG files can be uploaded\");\n      failure(\"Only JPG or PNG files can be uploaded\");\n      return;\n    }\n\n    progress(1);\n    const uploader = await axios.get(\n      `${api}/camps/pictureuploadurl/${localExtension}`\n    );\n    console.log(uploader);\n    progress(10);\n\n    await axios.put(uploader.data.url, blobInfo.blob(), {\n      headers: {\n        \"Content-Type\": uploader.data.contentType,\n      },\n      onUploadProgress: (pe) => {\n        progress(\n          pe.lengthComputable ? Math.floor((pe.loaded * 100) / pe.total) : 50\n        );\n      },\n    });\n\n    success(\n      `https://s3.us-east-2.amazonaws.com/queerburnersdirectory.com-images/${uploader.data.fileName}`\n    );\n  };\n\n  if (!props.userData || !props.userData.isAdmin) {\n    return (\n      <Container className=\"qb-textpage\">\n        <Row>\n          <Col>\n            <h3>\n              You have to be logged on to see this page.\n              <br />\n              <br />\n              <br />\n            </h3>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n  return (\n    <Container className=\"qb-textpage\">\n      <Row>\n        <Col>\n          {!loaded ? (\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          ) : (\n            <div>\n              <h1>Editing one post</h1>\n              <Form noValidate validated={formValidated}>\n                <Form.Group controlId=\"path\">\n                  <Form.Label>Path</Form.Label>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text>\n                        queerburners.org/\n                      </InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      type=\"input\"\n                      placeholder=\"\"\n                      name=\"path\"\n                      value={path}\n                      readOnly={locked || props.post}\n                      onChange={changeHandler}\n                    ></Form.Control>{\" \"}\n                    <Form.Control.Feedback type=\"invalid\">\n                      {pathError}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n\n                  <Form.Text className=\"text-muted\">\n                    The URL where this post appears. Can be multi/part, but can\n                    never be changed (to change it, create a new post and copy\n                    everything over)\n                  </Form.Text>\n                </Form.Group>\n                <Form.Group controlId=\"description\">\n                  <Form.Label>Description</Form.Label>\n\n                  <Form.Control\n                    type=\"description\"\n                    placeholder=\"Describe this post briefly\"\n                    name=\"description\"\n                    value={description}\n                    onChange={changeHandler}\n                  ></Form.Control>\n                  <Form.Text className=\"text-muted\">\n                    Description for admins, not shown to public\n                  </Form.Text>\n                </Form.Group>\n                <Editor\n                  initialValue={post}\n                  apiKey={apiKeyTinyMCE}\n                  init={{\n                    height: 500,\n                    menubar: false,\n                    images_upload_handler: imageUploadHandler,\n                    image_caption: true,\n                    // image_class_list: [\n                    //   { title: \"None\", value: \"\" },\n                    //   { title: \"Dog\", value: \"dog\" },\n                    //   { title: \"Cat\", value: \"cat\" },\n                    // ],\n                    plugins: [\n                      \"advlist autolink emoticons lists link image\",\n                      \"charmap print preview anchor help\",\n                      \"searchreplace visualblocks code\",\n                      \"insertdatetime media table paste wordcount\",\n                    ],\n                    block_formats:\n                      \"Paragraph=p; Title=h1; Header 2=h2; Header 3=h3\",\n                    toolbar:\n                      \"undo redo removeformat | formatselect | bold italic | alignleft aligncenter alignright | image link | blockquote bullist numlist outdent indent | charmap emoticons | code help\",\n                  }}\n                  onChange={postChangeHandler}\n                />\n                <br />\n                {saveError && (\n                  <Alert\n                    variant=\"danger\"\n                    dismissible\n                    onClose={() => setSaveError(null)}\n                  >\n                    <Alert.Heading>Error</Alert.Heading>\n                    <p>An error occurred and this blog post was not saved.</p>\n                    <p>\n                      <strong>{saveError}</strong>\n                    </p>\n                  </Alert>\n                )}\n                <Button target=\"_blank\" href={\"/\" + path}>\n                  Preview\n                </Button>\n                  &nbsp;\n                <Button\n                  variant=\"primary\"\n                  onClick={saveHandler}\n                  disabled={saveInProgress}\n                >\n                  Save\n                </Button>\n                {saveInProgress && <span>Saving...</span>}{\" \"}\n                {!locked && props.post && (\n                  <DeleteButton\n                    message=\"Delete this post?\"\n                    longMessage=\"Are you sure you want to permanently delete this entire post from the site?\"\n                    apiToDelete={`${api}/posts/${path}`}\n                    redirectOnSuccess=\"/editPosts\"\n                    userData={props.userData}\n                  />\n                )}\n              </Form>\n            </div>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPost;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Alert from \"react-bootstrap/Alert\";\nimport { Link } from \"react-router-dom\";\n\nimport { api } from \"../definitions.js\";\n\nexport const ViewPost = (props) => {\n  const [data, setData] = useState([]);\n  const [showContentWarning, setShowContentWarning] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await axios(`${api}/posts/${props.post}`);\n        setData(result.data);\n      } catch (e) {\n        setData({ post: \"<h1>404 Not Found</h1>\" });\n      }\n    };\n\n    fetchData();\n  }, [props.post]);\n\n  var cw = \"\";\n  if (props.post === \"history\" && showContentWarning) {\n    cw = <Alert variant=\"warning\" onClose={() => setShowContentWarning(false)} dismissible>\n    <p>Content warning: Nudity</p>\n  </Alert>;\n  }\n\n  return (\n    <Container className=\"qb-textpage\">\n      {props.userData.isAdmin && (\n        <Row>\n          <Col>\n            <div className=\"alert alert-info\" role=\"alert\">\n              You are an admin, so you can{\" \"}\n              <Link to={`/editPost/${props.post}`}>edit this post</Link>.\n            </div>\n          </Col>\n        </Row>\n      )}\n      <Row>\n        <Col>\n          {data.length === 0 ? (\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          ) : (\n            <div>\n              {cw}\n              <div dangerouslySetInnerHTML={{ __html: data.post }} />\n            </div>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default ViewPost;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport SubmitBody from \"./SubmitBody\";\nimport { LogonLink } from \"./Authenticate.js\";\nimport { defaultYear, api } from \"../definitions.js\";\n\nexport const Presubmit = (props) => {\n  const yearForNewSubmissions = defaultYear === 2020 ? 2021 : defaultYear;\n  const [previousCamps, setPreviousCamps] = useState(null);\n  const [newCampRequested, setNewCampRequested] = useState(false);\n  const [copyCampRequested, setCopyCampRequested] = useState(false);\n\n  useEffect(() => {\n    // find out if current logged on user has submitted\n    // camps previously\n\n    const fetchPreviousCamps = async () => {\n      if (props.userData.isLoggedOn)\n        try {\n          const result = await axios.get(`${api}/mycamps`, {\n            auth: {\n              username: props.userData.idToken,\n              password: \"\",\n            },\n          });\n          setPreviousCamps(result.data);\n        } catch (e) {\n          console.log(e);\n          setPreviousCamps(null);\n        }\n    };\n\n    fetchPreviousCamps();\n  }, [props.userData.idToken, props.userData.isLoggedOn]);\n\n  const NotLoggedIn = () => {\n    return (\n      <Container>\n        <Row>\n          <Col>\n            <h2>Submit your camp to the Queerburners directory!</h2>\n            <p>\n              Welcome! Were building a comprehensive list of LGBTQIA+ and ally\n              theme camps that will participate in Burning Man in{\" \"}\n              {yearForNewSubmissions}.\n            </p>\n\n            <p>\n              To add your theme camp to this directory, please start by signing\n              in with Google.\n            </p>\n            <p\n              style={{\n                textAlign: \"center\",\n              }}\n            >\n              <LogonLink useIcon={true} />\n            </p>\n            <p>\n              We will save your email address in case we need to contact you.\n              You'll be able to edit your camp directory listing at any time by\n              logging in again. Your email address will <strong>not</strong> be\n              shown publicly.\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    );\n  };\n\n  if (!props.userData.isLoggedOn) {\n    return NotLoggedIn();\n  }\n\n  //\n  // we got here via a request to edit a particular camp\n  //\n  if (props.userData.isLoggedOn && props.year && props.camp) {\n    return (\n      <SubmitBody\n        userData={props.userData}\n        year={props.year}\n        camp={props.camp}\n      />\n    );\n  }\n\n  //\n  // show a loading indicator while waiting to find out if\n  // user has previous camps\n  //\n  if (!previousCamps) {\n    return (\n      <Container>\n        {\" \"}\n        <Row>\n          <Col>\n            <div className=\"spinner-border\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n  //\n  // user has no previous camps - let them submit a new one\n  //\n\n  if (previousCamps && previousCamps.length === 0) {\n    return <SubmitBody userData={props.userData} year={null} camp={null} />;\n  }\n\n  //\n  // If we made it this far, you are logged on and you have a previous camp!\n  //\n\n  const sortedCamps = previousCamps.sort((a, b) => b.year - a.year); // sort with latest camp first\n\n  //\n  // You already submitted a camp for this year. All you can do is edit it\n  // as we only allow one camp per account\n  //\n  if (sortedCamps[0].year === yearForNewSubmissions) {\n    return (\n      <SubmitBody\n        userData={props.userData}\n        year={sortedCamps[0].year}\n        camp={sortedCamps[0].name}\n      />\n    );\n  }\n\n  //\n  // You have a camp for a PREVIOUS year, but you are requesting to create a NEW camp for this year\n  //\n  if (newCampRequested) {\n    return <SubmitBody userData={props.userData} year={null} camp={null} />;\n  }\n\n  //\n  // You have a camp for a PREVIOUS year, and you are requesting to resubmit it (copy it) to this year\n  //\n  if (copyCampRequested) {\n    return (\n      <SubmitBody\n        userData={props.userData}\n        year={sortedCamps[0].year}\n        camp={sortedCamps[0].name}\n        saveCopyAsYear={yearForNewSubmissions}\n      />\n    );\n  }\n\n  //\n  // You have a camp for a previous year, but we don't know yet how you want to handle it\n  //\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <h2>Welcome back!</h2>\n          <p>\n            Is <strong>{sortedCamps[0].name}</strong> coming back in{\" \"}\n            {yearForNewSubmissions}?\n          </p>\n          <Button variant=\"primary\" onClick={() => setCopyCampRequested(true)}>\n            Yes, resubmit this camp\n          </Button>{\" \"}\n          <Button variant=\"secondary\" onClick={() => setNewCampRequested(true)}>\n            No, submit a new camp\n          </Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Presubmit;\n","import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport DirectoryBody from \"./components/DirectoryBody.js\";\nimport SubmitBody from \"./components/SubmitBody.js\";\nimport Header from \"./components/Header.js\";\nimport Footer from \"./components/Footer.js\";\nimport { PostAuthenticate } from \"./components/Authenticate.js\";\nimport ScrollToTop from \"./components/ScrollToTop.js\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./custom.scss\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Route, Switch } from \"react-router-dom\";\nimport EditPosts from \"./components/EditPosts\";\nimport EditPost from \"./components/EditPost\";\nimport ViewPost from \"./components/ViewPost\";\nimport Presubmit from \"./components/Presubmit\";\n\nconst Analytics = () => {\n  useEffect(() => {\n    window.location.href =\n      \"https://app.usefathom.com/share/fuivzexd/queerburners.org\";\n  }, []);\n\n  return (\n    <div>\n      <h1>Loading Analytics...</h1>\n    </div>\n  );\n};\n\nconst TopLevelComponent = (props) => {\n  const [userData, setUserData] = useState({ isLoggedOn: false });\n\n  return (\n    <Router>\n      <ScrollToTop />\n      <Header\n        userData={userData}\n        OnUserDataChange={(newUserData) => {\n          setUserData(newUserData);\n        }}\n      />\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => (\n            <ViewPost userData={userData} post=\"greetersStation\" />\n          )}\n        />\n\n        <Route\n          path=\"/submit/:year\"\n          render={(props) => {\n            return (\n              <Presubmit\n                userData={userData}\n                year={props.match.params.year}\n                camp={new URLSearchParams(props.location.search).get(\"camp\")}\n              />\n            );\n          }}\n        />\n\n        <Route\n          path=\"/submit\"\n          render={(props) => (\n            <Presubmit userData={userData} year={null} camp={null} />\n          )}\n        />\n\n        <Route\n          path=\"/year/:year\"\n          render={(props) => (\n            <DirectoryBody\n              {...props}\n              year={props.match.params.year}\n              search={new URLSearchParams(props.location.search).get(\"s\")}\n              userData={userData}\n            />\n          )}\n        />\n        <Route\n          path=\"/directory\"\n          render={(props) => (\n            <DirectoryBody {...props} year=\"\" userData={userData} />\n          )}\n        />\n        <Route\n          path=\"/editPosts\"\n          render={(props) => <EditPosts userData={userData} />}\n        />\n        <Route\n          path=\"/editPost/:post+\"\n          render={(props) => (\n            <EditPost userData={userData} post={props.match.params.post} />\n          )}\n        />\n        <Route\n          path=\"/newPost\"\n          render={(props) => <EditPost userData={userData} post={null} />}\n        />\n\n        <Route\n          path=\"/edit/:year\"\n          render={(props) => {\n            return (\n              <SubmitBody\n                userData={userData}\n                year={props.match.params.year}\n                camp={new URLSearchParams(props.location.search).get(\"camp\")}\n              />\n            );\n          }}\n        />\n        <Route\n          path=\"/postauthenticate\"\n          render={(props) => (\n            <PostAuthenticate\n              {...props}\n              OnUserDataChange={(newUserData) => {\n                setUserData(newUserData);\n              }}\n            />\n          )}\n        />\n\n        <Route path=\"/analytics\" render={(props) => <Analytics />} />\n\n        <Route\n          path=\"/headeronly\"\n          render={() => <React.Fragment></React.Fragment>}\n        />\n\n        <Route\n          path=\"/:post+\"\n          render={(props) => (\n            <ViewPost userData={userData} post={props.match.params.post} />\n          )}\n        />\n      </Switch>\n      <Footer />\n    </Router>\n  );\n};\n\nReactDOM.render(<TopLevelComponent />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const crypto = require(\"crypto\");\n\nconst fieldError = (key, value) => {\n  let err = \"\";\n  switch (key) {\n    case \"year\":\n      if (typeof value !== \"number\") {\n        err = \"Year is not a number\";\n      } else if (value < 2018 || value > 2199) {\n        err = \"Year out of range\";\n      }\n      break;\n\n    case \"name\":\n      if (typeof value !== \"string\") {\n        err = \"Camp name is not a string\";\n      } else if (value.length === 0) {\n        err = \"Camp name is required\";\n      } else if (value.length > 50) {\n        err = `Camp name is too long by ${value.length - 50}`;\n      }\n      break;\n\n    case \"identifies\":\n      if (typeof value !== \"string\") {\n        err = \"identifies is not a string\";\n      } else if (value === \"\") {\n        err = \"identifies is required (try LGBTQ)\";\n      } else if (!campIdentifications.includes(value)) {\n        err = `${value} is not a valid camp identity (try LGBTQ)`;\n      }\n      break;\n\n    case \"about\":\n      if (typeof value !== \"string\") {\n        err = \"about is not a string\";\n      } else if (value.length > 255) {\n        err = `about is too long by ${value.length - 255}`;\n      }\n      break;\n\n    case \"location\":\n      if (\n        typeof value !== \"object\" ||\n        !value.frontage ||\n        !value.intersection ||\n        typeof value.frontage !== \"string\" ||\n        typeof value.intersection !== \"string\"\n      ) {\n        err =\n          \"type error - location should be an object with frontage and intersection strings\";\n      }\n      break;\n\n    case \"url\":\n      if (typeof value !== \"string\") {\n        err = \"url is not a string\";\n      } else if (value === \"\") {\n        err = \"\";\n      } else if (value.length > 128) {\n        err = `url is too long by ${value.length - 128}`;\n      } else if (!validateURL(value)) {\n        err = \"invalid url\";\n      } else if (isFacebookURL(value)) {\n        err = \"use the Facebook field for a Facebook page\";\n      }\n      break;\n\n    case \"facebook\":\n      if (typeof value !== \"string\") {\n        err = \"facebook is not a string\";\n      } else if (value === \"\") {\n        err = \"\";\n      } else if (value.length > 128) {\n        err = `facebook is too long by ${value.length - 128}`;\n      } else if (!validateURL(value)) {\n        err = \"invalid facebook url\";\n      } else if (!isFacebookURL(value)) {\n        err = `${value} is not a Facebook page/group`;\n      }\n      break;\n\n    case \"email\":\n      if (typeof value !== \"string\") {\n        err = \"email is not a string\";\n      } else if (value.length > 256) {\n        err = `email is too long by ${value.length - 256}`;\n      } else if (value.length > 0 && !validateEmail(value)) {\n        err = `'${value}' is not a valid email address`;\n      }\n      break;\n\n    case \"twitter\":\n      if (typeof value !== \"string\") {\n        err = \"twitter is not a string\";\n      } else if (value.length > 15) {\n        err = `twitter is too long by ${value.length - 15}`;\n      } else if (!/^[a-z0-9_]*$/i.test(value)) {\n        err = \"invalid twitter name\";\n      }\n      break;\n\n    case \"instagram\":\n      if (typeof value !== \"string\") {\n        err = \"instagram is not a string\";\n      } else if (value.length > 30) {\n        err = `instagram is too long by ${value.length - 30}`;\n      } else if (!/^[a-z0-9._]*$/i.test(value)) {\n        err = \"invalid instagram handle\";\n      }\n      break;\n\n    case \"joinMessage\":\n      if (typeof value !== \"string\") {\n        err = \"Joining information (joinMessage) is not a string\";\n      } else if (value.length > 255) {\n        err = `Joining information is too long by ${value.length - 255}`;\n      }\n      break;\n\n    case \"joinUrl\":\n      if (typeof value !== \"string\") {\n        err = \"Joining URL (joinUrl) is not a string\";\n      } else if (value === \"\") {\n        err = \"\";\n      } else if (value.length > 128) {\n        err = `Joining URL is too long by ${value.length - 128}`;\n      } else if (!validateURL(value)) {\n        err = \"invalid URL for joining\";\n      }\n      break;\n\n    default:\n  }\n\n  return err;\n};\n\nconst campErrors = (camp) => {\n  let errors = [];\n\n  [\n    \"year\",\n    \"name\",\n    \"identifies\",\n    \"about\",\n    \"location\",\n    \"url\",\n    \"facebook\",\n    \"email\",\n    \"twitter\",\n    \"instagram\",\n  ].map((f) => {\n    let err = fieldError(f, camp[f]);\n    if (err !== \"\") {\n      errors.push({\n        field: f,\n        err: err,\n      });\n    }\n  });\n\n  return errors;\n};\n\nconst tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\n// Thanks to:\n// http://fightingforalostcause.net/misc/2006/compare-email-regex.php\n// http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\n// http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\nconst validateEmail = (email) => {\n  if (!email) return false;\n\n  if (email.length > 256) return false;\n\n  if (!tester.test(email)) return false;\n\n  // Further checking of some things regex can't handle\n  const [account, address] = email.split(\"@\");\n  if (account.length > 64) return false;\n\n  const domainParts = address.split(\".\");\n  if (\n    domainParts.some(function (part) {\n      return part.length > 63;\n    })\n  )\n    return false;\n\n  return true;\n};\n\nconst validateURL = (s) => {\n  let url;\n\n  try {\n    // TODO This is error on lambda because URL is unrecognized.\n    // No idea how we got this far tho\n    url = new URL(s);\n  } catch (_) {\n    return false;\n  }\n\n  return url.protocol === \"http:\" || url.protocol === \"https:\";\n};\n\nconst isFacebookURL = (s) => {\n  let url;\n\n  try {\n    url = new URL(s);\n  } catch (_) {\n    return false;\n  }\n\n  return [\"facebook.com\", \"www.facebook.com\", \"m.facebook.com\"].includes(\n    url.hostname\n  );\n};\n\n//\n// Encode a little bit of Burning Man cartography\n// If this function is confusing to you, look at a map of Black Rock City\n//\nconst crossStreets = (frontage) => {\n  if (frontage === streets[0] /* unknown */) {\n    return [streets[0]];\n  }\n  if (frontage.includes(\":\")) {\n    return streets.filter((s) => s === \"Esplanade\" || s.length === 1);\n  } else {\n    return streets.filter((s) => s.includes(\":\"));\n  }\n};\n\nconst locationToString = (frontage, intersection) => {\n  if (frontage === streets[0]) {\n    return streets[0];\n  } else if (frontage === \"Rod's Road\" || frontage === \"Center Camp Plaza\") {\n    // yeah. This is placement's convention because those circular streets\n    // don't really have intersections\n    return `${frontage} @ ${intersection}`;\n  } else {\n    return `${frontage} & ${intersection}`;\n  }\n};\n\nconst campIdentifications = [\n  \"LGBTQ\",\n  \"Lesbian / Female Identified\",\n  \"Gay / Male Identified\",\n  \"Trans / GNC / Non-binary\",\n  \"Ally Camp\",\n];\n\nconst streets = [\n  \"Unknown\",\n  \"Esplanade\",\n  \"A\",\n  \"B\",\n  \"C\",\n  \"D\",\n  \"E\",\n  \"F\",\n  \"G\",\n  \"H\",\n  \"I\",\n  \"J\",\n  \"K\",\n  \"L\",\n  \"M\",\n  \"Rod's Road\",\n  \"Center Camp Plaza\",\n  \"2:00\",\n  \"2:15\",\n  \"2:30\",\n  \"2:45\",\n  \"3:00\",\n  \"3:15\",\n  \"3:30\",\n  \"3:45\",\n  \"4:00\",\n  \"4:15\",\n  \"4:30\",\n  \"4:45\",\n  \"5:00\",\n  \"5:15\",\n  \"5:30\",\n  \"5:45\",\n  \"6:00\",\n  \"6:15\",\n  \"6:30\",\n  \"6:45\",\n  \"7:00\",\n  \"7:15\",\n  \"7:30\",\n  \"7:45\",\n  \"8:00\",\n  \"8:15\",\n  \"8:30\",\n  \"8:45\",\n  \"9:00\",\n  \"9:15\",\n  \"9:30\",\n  \"9:45\",\n  \"10:00\",\n];\n\nconst emptyCamp = {\n  name: \"\",\n  year: null,\n  identifies: campIdentifications[0],\n  about: \"\",\n  location: {\n    frontage: streets[0],\n    intersection: streets[0],\n  },\n  url: \"\",\n  facebook: \"\",\n  email: \"\",\n  twitter: \"\",\n  instagram: \"\",\n  thumbnail: \"\",\n  joinOpen: false,\n  joinMessage: \"\",\n  joinUrl: \"\",\n  offerMeals: false,\n  offerWater: false,\n  offerShowers: false,\n  campFee: false,\n  virginsWelcome: false,\n};\n\nconst hashEmail = (email) => {\n  if (email.length === 0) {\n    return \"\";\n  }\n  const hash = crypto.createHash(\"sha256\");\n  hash.update(email);\n  return hash.digest(\"base64\");\n};\n\nmodule.exports = {\n  fieldError: fieldError,\n  campErrors: campErrors,\n  campIdentifications: campIdentifications,\n  streets: streets,\n  crossStreets: crossStreets,\n  locationToString: locationToString,\n  hashEmail: hashEmail,\n  emptyCamp: emptyCamp,\n};\n"],"sourceRoot":""}